{"version":3,"sources":["app.js"],"names":["pagina","cita","nombre","fecha","hora","servicios","inciarApp","mostrarServicios","mostrarSeccion","cambiarSeccion","paginaSiguiente","paginaAnterior","botonesPaginador","mostrarResumen","nombreCita","fechaCita","horaCita","deshabilitarFechaAnterior","async","url","resultado","fetch","db","json","console","log","forEach","servicio","id","precio","nombreServicio","document","createElement","textContent","classList","add","precioServicio","servicioDiv","dataset","idServicio","onclick","seleccionarServicio","appendChild","querySelector","error","seccionAnterio","remove","tabAnterior","querySelectorAll","enlace","addEventListener","e","preventDefault","parseInt","target","paso","elemento","tagName","parentElement","contains","eliminarServicio","agregarServicio","firstElementChild","nextElementSibling","filter","servicioObj","resumenDiv","firstChild","removeChild","Object","values","includes","noServicios","headingCita","innerHTML","serviciosCita","headingServicios","cantidad","contenedorServicio","textoServicio","totalServicio","split","trim","cantidadPagar","evento","nombreText","value","length","mostrarAlerta","alerta","mensaje","tipo","setTimeout","fechaInput","dia","Date","getUTCDay","horaInput","fechaActual","year","getFullYear","mes","getMonth","getDate","fechaDeshabilitar","min"],"mappings":"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","file":"bundle.js","sourcesContent":["// Variable que sirve como indicador de paginas\r\nlet pagina = 1;\r\nconst cita = {\r\n\tnombre:'',\r\n\tfecha: '',\r\n\thora : '',\r\n\tservicios: []\r\n}\r\n\r\n// Si el html carga, inicia esta funcion\r\ndocument.addEventListener('DOMContentLoaded', function(){\r\n\tinciarApp();\r\n});\r\n\r\n//Estas funcion indica que todas las funciones se va a inicar cuando el html cargue\r\nfunction inciarApp(){\r\n\tmostrarServicios();\r\n\t//resalta el div actual segun el tabs que se presiona\r\n\tmostrarSeccion();\r\n\t// oculta o muestra segun el tabs en que se presiona\r\n\tcambiarSeccion();\r\n\t// paginacion siguiente y anterior\r\n\tpaginaSiguiente();\r\n\tpaginaAnterior();\r\n\t// Comprueba la pagina actual para el paginador\r\n\tbotonesPaginador();\r\n\r\n\t// Muestra el resumen de la cita o mensaje de error\r\n\tmostrarResumen();\r\n\r\n\t// Almacena el nombre de la cita en el objeto\r\n\tnombreCita();\r\n\r\n\t// Almacena la fecha de la cita en el objeto\r\n\tfechaCita();\r\n\r\n\t// Almacena la hora en el objeto cita\r\n\thoraCita();\r\n\r\n\t// Deshabilitar las fechas pasadas\r\n\tdeshabilitarFechaAnterior();\r\n}\r\n\r\nasync function mostrarServicios(){\r\n    try{\r\n\t\tconst url = '/servicios.json';\r\n\t\t\r\n    \t//hace una consulta a servicios\r\n        const resultado = await fetch(url);\r\n        // Le indica que es una consulta de un archivo Json\r\n        const db = await resultado.json(); \r\n\r\n\t\tconsole.log(db);\r\n\r\n        // asigna los servicios a db\r\n        const { servicios } = db;\r\n        \r\n        // Generar el html\r\n        servicios.forEach( servicio =>{\r\n        \tconst { id, nombre, precio } = servicio;\r\n\r\n        \t// DOM Scripting  \r\n\r\n        \t//Generar el nombre del servicio\r\n        \tconst nombreServicio = document.createElement('P');\r\n        \tnombreServicio.textContent = nombre;\r\n        \tnombreServicio.classList.add('nombre-servicio');\r\n\r\n        \t// Generar el precio del servicio\r\n        \tconst precioServicio = document.createElement('P');\r\n        \tprecioServicio.textContent = ` $${precio}`;\r\n        \tprecioServicio.classList.add('precio-servicio');\r\n\r\n        \t// Generar el div\r\n        \tconst servicioDiv = document.createElement('DIV');\r\n        \tservicioDiv.classList.add('servicio');\r\n        \t// Le va a agregar una data que tenga el id del documento json\r\n        \tservicioDiv.dataset.idServicio = id;\r\n\r\n        \t// Selecciona un servicio para la cita\r\n        \t// addEventListener se utiliza cuando ya tienes codigo estatico\r\n\r\n        \t//Si le da clic el div, se ira a la funcion \"seleccionarServicio\"\r\n        \tservicioDiv.onclick = seleccionarServicio;\r\n\r\n\r\n        \t// Inyectar precio y nombre al div del servicio\r\n        \tservicioDiv.appendChild(nombreServicio);\r\n        \tservicioDiv.appendChild(precioServicio);\r\n\r\n        \t// Iyectar en el html\r\n        \tdocument.querySelector('#servicios').appendChild(servicioDiv);\r\n        } )\r\n\r\n    }catch(error){\r\n        console.log(error);\r\n    }\r\n}\r\n\r\n// Esta funcion lo que hace es cambiar las clases de mostrar seccion y \r\n// actual dependiendo la variable \"pagina\"\r\nfunction mostrarSeccion(){\r\n\r\n\t// Eliminar mostrar-seccion de la secciona anterior\r\n\tconst seccionAnterio = document.querySelector('.mostrar-seccion');\r\n\tif (seccionAnterio) {\r\n\t\t//Si tiene algo la variable \"SeccionAnterior\" quita la clase\r\n\t\tseccionAnterio.classList.remove('mostrar-seccion');\r\n\t}\r\n\t\r\n\tconst seccionActual = document.querySelector(`#paso-${pagina}`);\r\n\tseccionActual.classList.add('mostrar-seccion');\r\n\r\n\t// eliminar la clase \"actual\" en el tab anterior\r\n\tconst tabAnterior = document.querySelector('.tabs .actual');\r\n\tif (tabAnterior) {\r\n\t\t//Si tiene algo la variable \"tabAnterior\" quita la clase\r\n\t\ttabAnterior.classList.remove('actual');\t\t\r\n\t}\r\n\r\n\t// Resalta el boton actual\r\n\tconst tab = document.querySelector(`[data-paso=\"${pagina}\"]`);\r\n\ttab.classList.add('actual');\r\n}\r\n\r\n// Esta funcion lee el click que le diste a los botones \"tab\"\r\n// Y toma el data set y se los asigna a la variable pagina como entero\r\nfunction cambiarSeccion(){\r\n\tconst enlaces = document.querySelectorAll('.tabs button');\r\n\r\n\tenlaces.forEach( enlace => {\r\n\t\tenlace.addEventListener('click', e => {\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\t// le agrega el data paso al que le de clic y la guarda\r\n\t\t\t// en la variable pagina pero antes la convierte en un entero\r\n\t\t\tpagina = parseInt(e.target.dataset.paso);\r\n\r\n\t\t\tmostrarSeccion(); //Cambia las clases de las secciones y los tabs\r\n\t\t\tbotonesPaginador(); //Cambia las clases de los botones de la paginacion\r\n\r\n\t\t})\r\n\t})\r\n}\r\n\r\n//Si le das click al boton siguiente, le suma 1 a la variable pagina\r\nfunction paginaSiguiente(){\r\n\tconst paginaSiguiente = document.querySelector(\"#siguiente\");\r\n\tpaginaSiguiente.addEventListener('click', () => {\r\n\t\t\r\n\t\tpagina++;\r\n\t\tconsole.log(pagina);\r\n\t\tbotonesPaginador(); //Cambia las clases de los botones de la paginacion\r\n\t});\r\n}\r\n\r\n//Si le das click al boton siguiente, le quita 1 a la variable pagina\r\nfunction paginaAnterior(){\r\n\tconst paginaAnterior = document.querySelector(\"#anterior\");\r\n\tpaginaAnterior.addEventListener(\"click\", ()=>{\r\n\t\tpagina--;\r\n\t\tconsole.log(pagina);\r\n\t\tbotonesPaginador();\t\t\r\n\t});\r\n}\r\n\r\nfunction seleccionarServicio(e){\r\n\t// Forzar a que le de cic al div\r\n\tlet elemento;\r\n\r\n\tif (e.target.tagName === 'P') {\r\n\t\t// si le dio clic a un parrafo, guardara en la variable el elemento padre \"div\"\r\n\t\telemento = e.target.parentElement\r\n\t\t\r\n\t}else{\r\n\t\t// si le dio clic a div, guardar el div\r\n\t\telemento = e.target;\r\n\t}\r\n\t\t// revisa si ya tiene la clase llamada 'seleccionado'\r\n\tif (elemento.classList.contains('seleccionado')) {\r\n\t\telemento.classList.remove('seleccionado');\r\n\r\n\t\tconst id = parseInt(elemento.dataset.idServicio);\r\n\r\n\t\teliminarServicio(id);\r\n\r\n\t}else{\r\n\t\telemento.classList.add('seleccionado');\r\n\r\n\t\tconst servicioObj = {\r\n\t\t\tid : parseInt(elemento.dataset.idServicio),\r\n\t\t\tnombre : elemento.firstElementChild.textContent,\r\n\t\t\tprecio: elemento.firstElementChild.nextElementSibling.textContent\r\n\t\t}\r\n\t\t// console.log(servicioObj);\r\n\r\n\t\tagregarServicio(servicioObj);\r\n\t}\t\r\n}\r\nfunction eliminarServicio(id){\r\n\tconst {servicios} = cita;\r\n\tcita.servicios = servicios.filter(servicio => servicio.id != id);\r\n}\t\r\nfunction agregarServicio(servicioObj){\r\n\tconst {servicios} = cita;\r\n\t// Extraemos lo que tenga el arreglo servicios del objeto cita y le agregamos la \r\n\t// variable servicioObj para no sobreescribir\r\n\tcita.servicios = [...servicios, servicioObj];\r\n\t// console.log(cita);\r\n}\r\n\r\n// Esta funcion sirve para saber que valor tiene la variable pagina y cambiar\r\n// la visibilidad de los botones\r\nfunction botonesPaginador(){\r\n\tconst paginaSiguiente = document.querySelector(\"#siguiente\");\r\n\tconst paginaAnterior = document.querySelector(\"#anterior\");\r\n\r\n\tif (pagina === 1 ) {\r\n\t\tpaginaAnterior.classList.add('ocultar');\r\n\t\tpaginaSiguiente.classList.remove('ocultar');\r\n\t}else if (pagina ===3 ) {\r\n\t\tpaginaSiguiente.classList.add('ocultar');\r\n\t\tpaginaAnterior.classList.remove('ocultar');\r\n\t\tmostrarResumen();//Estamos en la pagina 3,carga el resumen de la cita\r\n\t} else{\r\n\t\tpaginaAnterior.classList.remove('ocultar');\r\n\t\tpaginaSiguiente.classList.remove('ocultar');\r\n\t}\r\n\t\r\n\tmostrarSeccion(); //Cambia las clases de las secciones y los tabs\r\n\tcambiarSeccion(); //cambia el valor de la variable pagina\r\n\t\r\n}\r\n\r\nfunction mostrarResumen(){\r\n\t// Destructuring\r\n\tconst {nombre , fecha, hora, servicios} = cita;\r\n\r\n\t// Seleccionar el resumen\r\n\tconst resumenDiv = document.querySelector('.contenido-resumen');\r\n\r\n\t// Mostrar el html previo\r\n\twhile (resumenDiv.firstChild){\r\n\t\tresumenDiv.removeChild(resumenDiv.firstChild);\r\n\t}\r\n\r\n\t// Validación de objeto\r\n\tif (Object.values(cita).includes('')) {\r\n\t\tconst noServicios = document.createElement('P');\r\n\t\tnoServicios.textContent = \"Faltan datos de servicios, hora, fecha o nombre\";\r\n\t\tnoServicios.classList.add('invalidar-cita');\r\n\r\n\t\t// Agregar a resumen Div\r\n\t\tresumenDiv.appendChild(noServicios);\r\n\t\treturn;\r\n\t} \r\n\tconst headingCita = document.createElement('H3');\r\n\theadingCita.textContent= 'Resumen de Cita';\r\n\r\n\r\n\t// Mostrar el resumen \r\n\tconst nombreCita = document.createElement('P');\r\n\tnombreCita.innerHTML = `<span>Nombre:</span> ${nombre}`;\r\n\r\n\tconst fechaCita = document.createElement('P');\r\n\tfechaCita.innerHTML = `<span>Fecha:</span> ${fecha}`;\r\n\r\n\tconst horaCita = document.createElement('P');\r\n\thoraCita.innerHTML = `<span>Fecha:</span> ${hora}`;\r\n\r\n\tconst serviciosCita = document.createElement('DIV');\r\n\tserviciosCita.classList.add('resumen-servicios');\r\n\r\n\tconst headingServicios = document.createElement('H3');\r\n\theadingServicios.textContent= 'Resumen de Servicios';\r\n\r\n\tserviciosCita.appendChild(headingServicios);\r\n\tlet cantidad = 0;\r\n\r\n\t// Iterar sobre el arreglo de servicios \r\n\tservicios.forEach( servicio =>{\r\n\r\n\t\tconst { nombre, precio } = servicio;\r\n\t\tconst contenedorServicio = document.createElement('DIV');\r\n\t\tcontenedorServicio.classList.add('contenedor-servicio');\r\n\r\n\t\tconst textoServicio = document.createElement('P');\r\n\t\ttextoServicio.textContent = nombre;\r\n\r\n\t\tconst precioServicio = document.createElement('P');\r\n\t\tprecioServicio.textContent = precio;\r\n\t\tprecioServicio.classList.add('precio');\r\n\r\n\t\tconst totalServicio = precio.split('$');\r\n\t\tcantidad += parseInt(totalServicio[1].trim());\r\n\r\n\r\n\t\t// Colocar texto y precio en el div\r\n\t\tcontenedorServicio.appendChild(textoServicio);\r\n\t\tcontenedorServicio.appendChild(precioServicio);\r\n\r\n\t\tserviciosCita.appendChild(contenedorServicio);\r\n\t});\r\n\r\n\tconsole.log(cantidad);\r\n\r\n\tresumenDiv.appendChild(headingCita);\r\n\tresumenDiv.appendChild(nombreCita);\r\n\tresumenDiv.appendChild(fechaCita);\r\n\tresumenDiv.appendChild(horaCita);\r\n\r\n\tresumenDiv.appendChild(serviciosCita);\r\n\r\n\tconst cantidadPagar = document.createElement('P');\r\n\tcantidadPagar.classList.add('total');\r\n\tcantidadPagar.innerHTML  = `<span>Total a pagar:</span> $${cantidad}`;\r\n\r\n\tresumenDiv.appendChild(cantidadPagar);\r\n\r\n\r\n}\r\n\r\nfunction nombreCita(){\r\n\t// Guarda en una variable el atributo con el id #nombre\r\n\tconst nombreInput = document.querySelector('#nombre');\r\n\r\n\t// Lee cuando escribies en el input con el id #nombre\r\n\tnombreInput.addEventListener('input', evento =>{\r\n\r\n\t\t// Almacena lo que se escribe en tiempo real en la variable \"nombreText\"\r\n\t\t// La funcion trim() sirve para no leer los espacion iniciales y finales\r\n\t\t// y asi no los guarda en el objeto\r\n\t\tconst nombreText = evento.target.value.trim();\r\n\r\n\t\t// Validacion de que nombreText debe tener algo o que tenga mas de 3 caracteres\r\n\t\tif (nombreText === '' || nombreText.length < 3 ) {\r\n\t\t\t// si es invalido, va hacia esa función\r\n\t\t\tmostrarAlerta('Nombre invalido', 'error');\r\n\t\t}else{\r\n\t\t\t// Almacena lo que haya escrito en el objeto \"cita\"\r\n\t\t\tcita.nombre = nombreText;\r\n\r\n\r\n\t\t\tconst alerta = document.querySelector('.alerta');\r\n\t\t\tif (alerta) {\r\n\t\t\t\t// si ya hay un div con la clase alerta, entoces lo quita\r\n\t\t\t\talerta.remove();\r\n\t\t\t}\r\n\t\t\tconsole.log(cita);\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction mostrarAlerta(mensaje, tipo){\r\n\t// Si ya hay una alerta, no mostrar otra\r\n\tconst alertaPrevia = document.querySelector('.alerta');\r\n\tif (alertaPrevia) {\r\n\t\treturn;\r\n\t}\r\n\t// console.log('el mensaje es:',mensaje);\r\n\tconst alerta = document.createElement('DIV');\r\n\talerta.textContent = mensaje;\r\n\talerta.classList.add('alerta');\r\n\r\n\tif (tipo === 'error') {\r\n\t\talerta.classList.add('error');\r\n\t}\r\n\r\n\t// console.log(alerta);\r\n\r\n\t// insertar en el html\r\n\tconst formulario = document.querySelector('.fomulario');\r\n\tformulario.appendChild(alerta);\r\n\r\n\t// Eliminar la alerta despues de 3 segundos\r\n\tsetTimeout(()=>{\r\n\t\talerta.remove();\r\n\t}, 3000);\r\n}\r\n\r\nfunction fechaCita(){\r\n\tconst fechaInput = document.querySelector('#fecha')\r\n\r\n\tfechaInput.addEventListener('input', e =>{\r\n\r\n\t\tconst dia = new Date(e.target.value).getUTCDay();\r\n\t\tif ( [0, 6].includes(dia) ) {\r\n\t\t\te.preventDefault();\r\n\t\t\tfechaInput.value = '';\r\n\t\t\tmostrarAlerta('Fines de semana no son permitidos','error');\r\n\t\t} else{\r\n\t\t\tcita.fecha = fechaInput.value;\r\n\t\t\tconsole.log(cita);\r\n\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction horaCita(){\r\n\tconst horaInput = document.querySelector('#hora');\r\n\r\n\thoraInput.addEventListener('input',evento => {\r\n\t\tconst horaCita = evento.target.value;\r\n\t\tconst hora = horaCita.split(':');\r\n\r\n\t\tif (hora[0] < 10 || hora[0] > 18 ) {\r\n \t\t\t\r\n\t\t\tmostrarAlerta(\"Hora no valida\",'error');\r\n\t\t\tsetTimeout(()=>{\r\n\t\t\t\thoraInput.value = '';\r\n\t\t\t},3000);\r\n\t\t} else{\r\n\t\t\tcita.hora = horaCita;\r\n\t\t\tconsole.log(cita);\r\n\t\t}\r\n\t\t\r\n\t})\r\n}\r\n\r\nfunction deshabilitarFechaAnterior(){\r\n\tconst fechaInput = document.querySelector('#fecha')\r\n\tconst fechaActual = new Date();\r\n\tconst year = fechaActual.getFullYear();\r\n\tconst mes = fechaActual.getMonth() + 1;\r\n\tconst dia = fechaActual.getDate() + 1;\r\n\r\n\tconst fechaDeshabilitar = `${year}-${mes < 10 ? `0${mes}` : mes}-${dia < 10 ? `0${dia}` : dia}`\r\n\r\n\t// Formato deseado: AAAA-MM-DD\r\n\t// console.log(fechaDeshabilitar);\r\n\tfechaInput.min = fechaDeshabilitar;\r\n\t// console.log(fechaInput);\r\n}"]}